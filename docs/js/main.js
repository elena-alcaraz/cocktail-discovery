const l=document.querySelector(".js_coctails"),a=document.querySelector(".js_search"),g=document.querySelector(".js-btn-search"),_="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=",k=document.querySelector(".js_reset"),d=document.querySelector(".js_coctails_favorite"),o=document.querySelector(".js_reset_favorites");document.querySelector(".js_log");let c=[],r=[];function b(){l.innerHTML="",a.value===""?(alert("Introduce un coctail para empezar a buscar :)"),u("margarita")):u(a.value)}g.addEventListener("click",b);function L(){a.value="",l.innerHTML=""}k.addEventListener("click",L);function S(){d.innerHTML="",r=[],localStorage.removeItem("coctailsFavorite"),o.classList.add("hidden"),document.querySelectorAll(".blue").forEach(t=>{t.classList.remove("blue")})}o.addEventListener("click",S);const u=e=>{fetch(_+e).then(t=>t.json()).then(t=>{c=t.drinks,c===null?alert("No se han encontrado resultados ):"):v(),console.log(t)})},p=(e,t,n)=>{let i=e.strDrinkThumb;i===null&&(i="https://media.glamour.mx/photos/632371dd8645b8d42bd2a706/master/pass/cocteles-para-el-15-de-septiembre.jpg");var s="";return n?s+=`<li class="card blue"><button class="js_remove_fav" id="${e.idDrink}">❌</button>`:t?s+=`<li class="card js_coctails_li blue" id="${e.idDrink}">`:s+=`<li class="card js_coctails_li" id="${e.idDrink}">`,s+=`<h6>${e.strDrink}</h6>
    <p class="card_ingredients">${e.strIngredient1}, ${e.strIngredient2}, ${e.strIngredient3}</p>
    <img src="${i}"/>
    </li>`,s},v=()=>{l.innerHTML="";for(var e of c){const n=r.some(i=>i.idDrink==e.idDrink);console.log(n),l.innerHTML+=p(e,n,!1)}const t=document.querySelectorAll(".js_coctails_li");for(let n=0;n<t.length;n++)t[n].addEventListener("click",h)},h=e=>{const t=e.currentTarget.id;console.log(`El Id a tratar es: ${t}`);const n=c.find(s=>s.idDrink===t),i=r.findIndex(s=>s.idDrink===t);i===-1?r.push(n):r.splice(i,1),console.log(r),f(),v(),m(),localStorage.setItem("coctailsFavorite",JSON.stringify(r))},D=e=>`<li class="card fav_coctail">
        <button class="btn_remove js_remove_fav" id="${e.idDrink}">❌</button>
        <h6>${e.strDrink}</h6>
        <p class="card_ingredients">${e.strIngredient1}, ${e.strIngredient2}, ${e.strIngredient3}</p>
        <img src="${e.strDrinkThumb}"/>
    </li>`;function f(){d.innerHTML="";for(const t of r)d.innerHTML+=D(t);const e=document.querySelectorAll(".js_remove_fav");for(let t=0;t<e.length;t++)e[t].addEventListener("click",j)}const j=e=>{const t=e.currentTarget.id,n=c.find(s=>s.idDrink===t),i=r.findIndex(s=>s.idDrink===t);i===-1?r.push(n):r.splice(i,1),f(),v(),r.length===0&&o.classList.add("hidden"),localStorage.setItem("coctailsFavorite",JSON.stringify(r))};function F(){const e=localStorage.getItem("coctailsFavorite");e!==null&&(r=JSON.parse(e),f())}function m(){r.length===0?o.classList.add("hidden"):o.classList.remove("hidden")}F();m();u("margarita");
//# sourceMappingURL=main.js.map

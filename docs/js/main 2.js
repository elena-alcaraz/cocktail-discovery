const o=document.querySelector(".js_coctails"),a=document.querySelector(".js_search"),f=document.querySelector(".js-btn-search"),h="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=",g=document.querySelector(".js_reset"),d=document.querySelector(".js_coctails_favorite"),r=document.querySelector(".js_reset_favorites");let n=[],s=[];function L(){o.innerHTML="",a.value===""?(alert("Introduce un coctail para empezar a buscar :)"),u("margarita")):u(a.value)}f.addEventListener("click",L);function S(){a.value="",o.innerHTML=""}g.addEventListener("click",S);function b(){d.innerHTML="",s=[],localStorage.removeItem("coctailsFavorite"),r.classList.add("hidden"),document.querySelectorAll(".blue").forEach(e=>{e.classList.remove("blue")})}r.addEventListener("click",b);const u=t=>{fetch(h+t).then(e=>e.json()).then(e=>{n=e.drinks,n===null?alert("No se han encontrado resultados ):"):v(),console.log(e)})},k=t=>{let e=t.strDrinkThumb;return e===null&&(e="https://media.glamour.mx/photos/632371dd8645b8d42bd2a706/master/pass/cocteles-para-el-15-de-septiembre.jpg"),`<li class="card js_coctails_li" id="${t.idDrink}"> 
        <h6>${t.strDrink}</h6>
        <img src="${e}"/>
        </li>`},v=()=>{o.innerHTML="";for(let e=0;e<n.length;e++)o.innerHTML+=k(n[e]);const t=document.querySelectorAll(".js_coctails_li");for(let e=0;e<t.length;e++)t[e].addEventListener("click",_)},_=t=>{const e=t.currentTarget.id,l=n.find(i=>i.idDrink===e),c=s.findIndex(i=>i.idDrink===e);c===-1?(s.push(l),t.currentTarget.classList.add("blue")):(s.splice(c,1),t.currentTarget.classList.remove("blue")),r.classList.remove("hidden"),m(),s.length===0&&r.classList.add("hidden"),localStorage.setItem("coctailsFavorite",JSON.stringify(s))},p=t=>`<li class="card fav_coctail">
        <button class="btn_remove js_remove_fav" id="${t.idDrink}">Eliminar de favoritos</button>
        <h6>${t.strDrink}</h6>
        <img src="${t.strDrinkThumb}"/>
    </li>`;function m(){d.innerHTML="";for(const e of s)d.innerHTML+=p(e);const t=document.querySelectorAll(".js_remove_fav");for(let e=0;e<t.length;e++)t[e].addEventListener("click",F)}const F=t=>{const e=t.currentTarget.id,l=n.find(i=>i.idDrink===e),c=s.findIndex(i=>i.idDrink===e);c===-1?s.push(l):s.splice(c,1),m(),v(),s.length===0&&r.classList.add("hidden"),localStorage.setItem("coctailsFavorite",JSON.stringify(s))};function j(){const t=localStorage.getItem("coctailsFavorite");t!==null&&(s=JSON.parse(t),m())}function D(){s.length===0?r.classList.add("hidden"):r.classList.remove("hidden")}j();D();u("margarita");
//# sourceMappingURL=main.js.map
